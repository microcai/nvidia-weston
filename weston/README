this is glx-backend for weston. all other code is directly brought from weston
